<!-- Sidebar móvil personalizado, reemplaza el topbar en móvil -->
<style>
  .mobile-sidebar {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 220px;
    height: 100vh;
    background: #fff;
    z-index: 2000;
    box-shadow: 2px 0 12px rgba(0,0,0,0.08);
    flex-direction: column;
    transition: transform 0.3s cubic-bezier(.4,0,.2,1);
    transform: translateX(-100%);
  }
  .mobile-sidebar.open {
    transform: translateX(0);
  }
  .mobile-sidebar .sidebar-header {
    display: flex;
    align-items: center;
    height: 60px;
    padding: 0 16px;
    border-bottom: 1px solid #ececec;
    background: #f8f9fb;
  }
  .mobile-sidebar .logo {
    height: 36px;
    margin-right: 12px;
  }
  .mobile-sidebar .sidebar-nav {
    list-style: none;
    padding: 32px 0 0 0;
    margin: 0;
    flex: 1;
  }
  .mobile-sidebar .sidebar-nav li {
    margin-bottom: 12px;
  }
  .mobile-sidebar .sidebar-nav a {
    display: block;
    padding: 12px 24px;
    color: #222;
    font-size: 18px;
    text-decoration: none;
    font-weight: 500;
    border-left: 4px solid transparent;
    transition: background 0.2s, border-color 0.2s;
  }
  .mobile-sidebar .sidebar-nav a:hover {
    background: #f0f4fa;
    border-left: 4px solid #2a76f4;
    color: #2a76f4;
  }
  .mobile-sidebar .sidebar-footer {
    padding: 16px;
    border-top: 1px solid #ececec;
    font-size: 14px;
    color: #888;
    background: #f8f9fb;
  }
  .mobile-sidebar .close-btn {
    margin-left: auto;
    background: none;
    border: none;
    font-size: 28px;
    color: #2a76f4;
    cursor: pointer;
    padding: 0 8px;
  }
  .mobile-hamburger {
    display: flex;
    align-items: center;
    height: 60px;
    background: #fff;
    border-bottom: 1px solid #ececec;
    padding: 0 16px;
    z-index: 2100;
  }
  .mobile-hamburger .hamburger-btn {
    background: none;
    border: none;
    padding: 0;
    margin-right: 16px;
    cursor: pointer;
    outline: none;
  }
  .mobile-hamburger .hamburger-btn .lines {
    width: 28px;
    height: 22px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .mobile-hamburger .hamburger-btn span {
    display: block;
    height: 3px;
    width: 100%;
    background: #2a76f4;
    border-radius: 2px;
    transition: all 0.3s;
  }
  @media (max-width: 991.98px) {
    .mobile-sidebar, .mobile-hamburger { display: flex; }
    body { padding-left: 0 !important; }
  }
  @media (min-width: 992px) {
    .mobile-sidebar, .mobile-hamburger { display: none !important; }
  }
</style>
<div class="mobile-hamburger">
  <button class="hamburger-btn" id="openSidebarBtn" aria-label="Abrir menú lateral">
    <div class="lines">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </button>
  <img src="/static/images/logo.png" alt="Logo" class="logo" style="height:36px;">
  <span style="font-weight:700; font-size:20px; color:#2a76f4; margin-left:8px;">AgroTech</span>
</div>
<div class="mobile-sidebar" id="mobileSidebar">
  <div class="sidebar-header">
    <img src="/static/images/logo.png" alt="Logo" class="logo">
    <span style="font-weight:700; font-size:20px; color:#2a76f4;">AgroTech</span>
    <button class="close-btn" id="closeSidebarBtn" aria-label="Cerrar menú lateral">&times;</button>
  </div>
  <ul class="sidebar-nav">
    <li><a href="/">Inicio</a></li>
    <li><a href="/parcels/">Parcelas</a></li>
    <li><a href="/dashboard/">Dashboard</a></li>
    <li><a href="/rrhh/">RRHH</a></li>
    <li><a href="/logout/">Salir</a></li>
  </ul>
  <div class="sidebar-footer">
    &copy; 2025 AgroTech
  </div>
</div>
<script>
  const sidebar = document.getElementById('mobileSidebar');
  const openBtn = document.getElementById('openSidebarBtn');
  const closeBtn = document.getElementById('closeSidebarBtn');
  openBtn.addEventListener('click', function(e) {
    e.stopPropagation();
    sidebar.classList.add('open');
  });
  closeBtn.addEventListener('click', function() {
    sidebar.classList.remove('open');
  });
  // Cerrar al hacer click fuera
  document.addEventListener('click', function(e) {
    if (window.innerWidth < 992 && sidebar.classList.contains('open') && !sidebar.contains(e.target) && !openBtn.contains(e.target)) {
      sidebar.classList.remove('open');
    }
  });
  // Cerrar al navegar
  document.querySelectorAll('.sidebar-nav a').forEach(function(link) {
    link.addEventListener('click', function() {
      sidebar.classList.remove('open');
    });
  });
</script>


